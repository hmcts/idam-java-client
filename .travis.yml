language: java
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
deploy:
- provider: script
  script: ./gradlew bintrayUpload
  skip_cleanup: true
  on:
    repo: hmcts/idam-java-client
    tags: true
- provider: releases
  api_key:
    secure: heeJJ1UyovO8TbbR+x78mAz3uxgBC9hlT4HAdlEbXXQXdNu5VQWJsOFGA20wYBVV5EAU+adKEIL3VoPkLIhI+V8augyC3S26jXMboNavb7dF8z89Oy+88LWRy+r3PXDO3Jl4gv5oSe4pcyRWWX1huCthFklSjK7Kz/FutA4f/fHTxwuAS3IHb3En1xtHpbmRs4NjSTvrLIwpgvbmWEaR/Xz7W++Z+xIx5x179TlyI6u5o+GHMflDzU4P4h4tF0k8WDwNsLVLarWFv6USnL1KoAkDQhIsY+Suvwv2PlQZq1ClCWDr7QnRMHQYje+B3MIAbcK1Q4nQg/uXzj5Ny9LhqZx9DrBpgHLz/KFHaJ738RHXTk1/yFxHYbQJ/cIv3W29A4ciQp2KCfyBwG7oTI5YTFNU9Z9FK98QyRNlSCipRqdGXiUap5RaoaLVH4lJ9pwaTdCjpSSqxD+syNiSvePQN22or+ZsIrbhzVv2E6zUSn/G0VsOeG09qZNRQKmkIPZPIKrpoY8wVfsXxV26DR3oqvOF4cpB3nPN1L/iK59Cy8sbl9RoR3bFdSYHH2gMIpgcyELhpAZs/QLZQ2kfaVmpXhe/L6uFRyadjW+pGa5jwGrB2SCuf47o4eslnHGWQ77Rp7OFjNsdap6LGz7gg3QeOw2uTRN1sfPi9tTgu9xkhlo=
  file: build/libs/idam-client-*.jar
  file_glob: true
  skip_cleanup: true
  on:
    repo: hmcts/idam-java-client
    tags: true
env:
  global:
  - secure: iBGs0Mfrdp7SmNotlU0KYlxw8z5ZudsA7M6KvM9Cx9K9c4seCgFiKQH3fJ5vugiuDxgm/V8B9rbeh8DwFkLuQKaf5KiKdnNTUuOQCqh8HuAJSryAUTDnFPHXZvGEGdnCnb3j07ND+1OcTm+iFTgqEIU3O00q1I8RGrGqyt6D6+bf4x9zi4SqwC4i9TfQodrUvSeIUwhqVzvVQfPP3Tv+h60490BPZMM3r069IVDAq9tWWwfdHoAr925tXiY/ld1H3pfPFrh8FpMaiJkGE1eetrAQ5B924X/nTfF60oQ8hgoF91EQKe/frKJQuSyvXh2zKEHNrjbB5gv7ojl/4pIlfryL09nV63cj/6DDwK22g1/bJ3t7IKyYoJv5A4h2OHuDD95jYhHTKsBTWyfZQkh60O7LcvGTI3UqPpHuqTldT72VPuvbnyhhhuFf23lYRO50bi+RLLx7sgfMpFDndi1lD0nOAdpvXgOcxICpRMN2rcOBVwrqNvBMVDNy8N/oVdeJnDYLULBcupzI4in9HnbOz3Gf0H4Gl2kw5tQNtZt1ZIkE7lXbRMz04kFSZYOxZEnlHHCyyCurbzvxI7dd/DESrZHUJnzjZ4tXBBZY1U1cgU8p5w1ErSHYner9D20CsyFpS1yaR48bM8bGmNHj0H3904bmC+TtyI2wp5uDYRwp1as=
  - secure: itBgjxpi0gxMIyIPs50SADKzx82p0M06Mj5XwyaiG/LY1owgIhZWkOZdJHdihbQruZkWdVxr1QKClXvCFuQ9bexiWwn2+79Ap25lRLQY0fuRSkyKWxYzJ0/6+SuT+qCrv7zA8eqXdU8lJjWX3wwqSoNPmkL4/OESctwnxuzGRa0Tmui0dQX4KuIG/6X+kx21RSZZ8WqnLPjd7E5Z5ZuoWqw8ZgRgFqyb1siZv/2Rj24BxxkttZNOM65BEApmen+Ti/4TTRht1oi0P2Lfzf0YG13McuyiISkqfF0f85UDo+UdHBVOeO595+h0yHnKkvyiUWM9fXnnzGWW/7q1gzcMCX4gkNvMl1IqQR0Z9NcVSWbUFJ/eH30lLj2GMPR/7Y6JjMGQLfa/xD7qlUsMF+dndyTwG6Qv34H2eSQ70Y4saudxuoYX93jC9I0U2WNWa4LkqOLr2Ml7Ndpdou+8aOYUCj9zV+CwrdOn8TBQAA+OMJzRMmPcqGi1nzJE8JJIxnPcygfSgH61ZAvqTsPA4/F//D5JlUfwrPagMmI33+NlU2rAnAq+aqQ5omOdmQjtJZStt0SVCv7yZts4QEQdim8SmBUnic5k5LpvtmQteKnUfcl4O2rpHXWvt/z9vfxAA2mwW1zfiKCN1T1ykNR6fFxM24/PYhh3cApjnhPNq+Uu6tk=
